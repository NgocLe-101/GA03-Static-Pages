<%- include('head', { active: 'movies' }) -%> <%- include('page_header', {
title: 'Movies' }) -%>

<!-- Product Start -->
<div class="container-xxl py-5">
  <div class="container">
    <div class="row g-0 gx-5 align-items-end">
      <div class="col-lg-6">
        <div
          class="section-header text-start mb-5 wow fadeInUp"
          data-wow-delay="0.1s"
          style="max-width: 500px"
        >
          <h1 class="display-5 mb-3">Movies</h1>
          <p>
            Explore our amazing collection of films, from thrilling action
            blockbusters to unique artistic masterpieces.
          </p>
        </div>
      </div>
    </div>
    <div class="row g-4" id="movies-container">
      <% movies.forEach((movie, index) => { %>
      <div
        class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp"
        data-wow-delay="<%= 0.1 + (index * 0.2) %>s"
      >
        <div class="product-item">
          <div class="position-relative bg-light overflow-hidden">
            <img
              class="img-fluid w-100 fixed-size"
              src="<%= movie.image_url %>"
              alt=""
            />
            <div
              class="bg-secondary rounded text-white position-absolute start-0 top-0 m-4 py-1 px-3"
            >
              New
            </div>
          </div>
          <div class="text-center p-4">
            <a class="h5 text-clamp-1 mb-2" href="/movies/<%= movie.id %>"
              ><%= movie.title %></a
            >
            <p class="text-clamp"><%= movie.description %></p>
          </div>
          <div class="d-flex border-top">
            <small class="w-50 text-center border-end py-2">
              <a class="text-body" href="/movies/<%= movie.id %>"
                ><i class="fa fa-eye text-primary me-2"></i>View detail</a
              >
            </small>
            <small class="w-50 text-center py-2">
              <a
                class="text-body add-cart-item"
                href="javascript:void(0)"
                data-id="<%= movie.id %>"
                ><i class="fa fa-shopping-bag text-primary me-2"></i>Add to
                cart</a
              >
            </small>
          </div>
        </div>
      </div>
      <% }); %>
    </div>
    <div class="row">
      <div class="col-12 mt-4 text-center wow fadeInUp" data-wow-delay="0.1s">
        <nav aria-label="Page navigation" id="pagination-container">
          <ul class="pagination justify-content-center">
            <% if (currentPage > 1) { %>
            <li class="page-item">
              <a
                class="page-link"
                href="?page=<%= currentPage - 1 %>"
                aria-label="Previous"
              >
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= currentPage === i ? 'active' : '' %>">
              <a class="page-link" href="?page=<%= i %>"><%= i %></a>
            </li>
            <% } %> <% if (currentPage < totalPages) { %>
            <li class="page-item">
              <a
                class="page-link"
                href="?page=<%= currentPage + 1 %>"
                aria-label="Next"
              >
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
            <% } %>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- Product End -->

<%- include('foot') -%>
<script src="/js/products.js"></script>
